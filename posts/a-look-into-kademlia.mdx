---
title: What is Kademlia? (A somewhat gentle introduction) [WIP]
description: Documenting my journey in studying the Kademlia paper, the peer-to-peer ditributed hash table. 
date: '2021-07-29'
---

> We describe a peer-to-peer system which has provable consistency and performance in a fault-prone
environment. Our system routes queries and locates
nodes using a novel XOR-based metric topology that
simplifies the algorithm and facilitates our proof.
The topology has the property that every message
exchanged conveys or reinforces useful contact information. The system exploits this information to
send parallel, asynchronous query messages that tolerate node failures without imposing timeout delays
on users.

Even the abstract from the [Kademlia](http://css.csail.mit.edu/6.824/2014/papers/kademlia.pdf) paper
is a lot to digest and I think we can say there's not going to be *any* hand-holding. 
Accordingly, this blog will serve as a collection of my thoughts.

### Review of the friendly hash table
Firstly, a hash function is a map $h$ such that

$$
h : \{0, 1, ..., u - 1\} \to \{0, 1, ..., m -1\} = K.
$$

for $u < m$. In words, $h$ reduces a universe 
$\mathbb{U}$ with $u$ 
many keys to $m$. 

Next, a *collision* occurs whenever 
$h(k_i) = h(k_j)$
for two keys $k_i \neq k_j \in \mathbb{U}$.
A well-behaved hash function avoids collisions.

A hashmap $H$ supports $\verb|put|(key, val)$ and 
$\verb|get|(key)$. 

The former takes a key $k$ and stores value $v$
in bucket $H[h(k)]$ and the latter returns 
$H[h(k)]$. 

### What is a distributed hash table anyways?

Much like the traditional hashmap $H$, DHT 
also supports $\verb|put|(key, val)$ and 
$\verb|get|(key)$.


